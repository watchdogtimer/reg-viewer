(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){e.exports=t(33)},22:function(e,a,t){},24:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),r=t(10),o=t.n(r),i=(t(22),t(11)),l=t(12),c=t(14),m=t(13),d=t(15),u=t(3),h=(t(24),t(6)),g=t.n(h),p=t(4),E=(t(28),t(5)),f=["id","studentFirst","studentLast","grade","teacher","parentFirst","parentLast","parentEmail","parentPhone","alternateFirst","alternateLast","alternateEmail","alternatePhone","spanish","characterBuilders","primetime","none","ignore1","ignore2","sessionA","sessionB"],A=[{name:"Art (K-2nd) A",class:"Art",room:"Kindergarten Tables"},{name:"Capoeira (3rd-5th) A",class:"Capoeira",room:"Auditorium"},{name:"Ceramics (2nd-5th) A",class:"Ceramics",room:"Ceramics"},{name:"Chess (TK-5th) A",class:"Chess",room:"B-25"},{name:"Circus Arts (TK-5th) A",class:"Circus Arts",room:"Kindergarten Playground"},{name:"Coding (2nd-5th) A",class:"Coding",room:"Room 2"},{name:"Flamenco (TK-5th) A",class:"Flamenco",room:"B-21"},{name:"Gardening (K-5th) A",class:"Gardening",room:"Garden"},{name:"Soccer (3rd-5th) A",class:"Soccer",room:"Grass"},{name:"Tennis (K-1st) A",class:"Tennis",room:"Basketball Court"},{name:"WOW LEGO\xae Early Engineering 1 (TK-2nd) A",class:"WOW LEGO\xae Early Engineering 1",room:"Room 1"},{name:"WOW LEGO\xae Elem. Engineering 2 (2nd-5th) A",class:"WOW LEGO\xae Elem. Engineering 2",room:"Room 7"},{name:"Yoga (TK-5th) A",class:"Yoga",room:"Room 5"}],C=[{name:"Art (3rd-5th) B",class:"Art",room:"Kindergarten Tables"},{name:"Capoeira (K-2nd) B",class:"Capoeira",room:"Auditorium"},{name:"Ceramics (TK-1) B",class:"Ceramics",room:"Ceramics"},{name:"Chess (TK-5th) B",class:"Chess",room:"B-25"},{name:"Circus Arts (TK-5th) B",class:"Circus Arts",room:"Kindergarten Playground"},{name:"Coding (2nd-5th) B",class:"Coding",room:"Room 2"},{name:"Flamenco (TK-5th) B",class:"Flamenco",room:"B-21"},{name:"Gardening (K-5th) B",class:"Gardening",room:"Garden"},{name:"Soccer (TK-2nd) B",class:"Soccer",room:"Grass"},{name:"Tennis (2nd-5th) B",class:"Tennis",room:"Basketball Court"},{name:"WOW LEGO\xae Early Engineering 1 (TK-2nd) B",class:"WOW LEGO\xae Early Engineering 1",room:"Room 1"},{name:"WOW LEGO\xae Elem. Engineering 2 (2nd-5th) B",class:"WOW LEGO\xae Elem. Engineering 2",room:"Room 7"},{name:"Yoga (TK-5th) B",class:"Yoga",room:"Room 5"}],v=[],S=[],B=function(e){function a(){var e;return Object(i.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).state={columns:[],loadTable:!1,masterArray:[],dupes:[],invalidRows:[],afterSchoolPrograms:[],afterSchoolProgramsColumns:[],dataMapSessionA:[],dataMapSessionB:[]},e.reloadTable=e.reloadTable.bind(Object(u.a)(Object(u.a)(e))),e.showMaster=e.showMaster.bind(Object(u.a)(Object(u.a)(e))),e.loadMasterCsv=e.loadMasterCsv.bind(Object(u.a)(Object(u.a)(e))),e.loadDuplicateCsv=e.loadDuplicateCsv.bind(Object(u.a)(Object(u.a)(e))),e}return Object(d.a)(a,e),Object(l.a)(a,[{key:"showMaster",value:function(){this.setState({showMaster:!0})}},{key:"hideAll",value:function(){this.setState({showMaster:!1})}},{key:"showClasses",value:function(){this.setState({showClasses:!0})}},{key:"hideClasses",value:function(){this.setState({showClasses:!1})}},{key:"loadMasterCsv",value:function(e){v=e,this.reloadTable()}},{key:"loadDuplicateCsv",value:function(e){S=e,this.reloadTable()}},{key:"computeStudentKey",value:function(e){return e.studentFirst.toLowerCase().trim()+" "+e.studentLast.toLowerCase().trim()}},{key:"convertToObject",value:function(e,a){for(var t={},s=0;s<a.length;s++)t[a[s].accessor]=e[s];t.sessionAMerged="None"!=t.sessionA&&""!=t.sessionA?t.sessionA:t.spanish?t.spanish:t.characterBuilders?t.characterBuilders:t.primetime?t.primetime:t.none?t.none:"None",t.sessionBMerged="None"!=t.sessionB&&""!=t.sessionB?t.sessionB:t.characterBuilders?t.characterBuilders:t.primetime?t.primetime:t.none?t.none:"None",t.afterProgramming=t.characterBuilders?t.characterBuilders:t.primetime?t.primetime:t.none?t.none:"None";var n=A.find(function(e){return e.name===t.sessionA}),r=C.find(function(e){return e.name===t.sessionB});return t.sessionAClassroom="None"!=t.sessionA&&""!=t.sessionA&&n?n.room:"N/A",t.sessionBClassroom="None"!=t.sessionB&&""!=t.sessionB&&r?r.room:"N/A",t.classA="None"!=t.sessionA&&""!=t.sessionA&&n?n.class:"N/A",t.classB="None"!=t.sessionB&&""!=t.sessionB&&r?r.class:"N/A",t}},{key:"reloadTable",value:function(){var e=this;this.setState({loadMasterCsv:!1});var a=[],t=[],s=[],r=v[0].map(function(e,a){return{Header:e,accessor:f[a]||e}});this.setState({columns:[{Header:"",id:"row",maxWidth:50,filterable:!1,Cell:function(e){return n.a.createElement("div",null,e.index+1)}}].concat(r)});for(var o=1;o<v.length;o++)a.push(this.convertToObject(v[o],r));if(S.length>0){for(var i=1;i<S.length;i++)t.push(this.convertToObject(S[i],r));var l={};t.forEach(function(a){var t=e.computeStudentKey(a);l[t]=a}),s=a.filter(function(a){return l[e.computeStudentKey(a)]}),a=a.filter(function(a){return!l[e.computeStudentKey(a)]})}var c=A.map(function(e){return{name:e.name,class:e.class,data:[]}}),m=C.map(function(e){return{name:e.name,class:e.class,data:[]}}),d=[],u=[];a.forEach(function(e){var a=c.find(function(a){return a.name===e.sessionA});a&&a.data.push(e);var t=m.find(function(a){return a.name===e.sessionB});t&&t.data.push(e),d.includes(e.sessionA)||d.push(e.sessionA),u.includes(e.sessionB)||u.push(e.sessionB)});var h={},g={},p=0,E=[],B=[],b=0;a.forEach(function(a){if(a.studentFirst&&a.studentLast){var t=e.computeStudentKey(a);h[t]?(p++,g[t]=1):h[t]=1}else b++,B.push(Object.assign({},a));("None"!==a.sessionAMerged&&""!==a.sessionAMerged&&"N/A"!==a.sessionAMerged||"None"!==a.sessionBMerged&&""!==a.sessionBMerged&&"N/A"!==a.sessionBMerged)&&("None"!==a.sessionAMerged&&""!==a.sessionAMerged&&"N/A"!==a.sessionAMerged||"None"===a.sessionBMerged||""===a.sessionBMerged||"N/A"===a.sessionBMerged)||(b++,B.push(Object.assign({},a)))}),a.forEach(function(a){if(a.studentFirst&&a.studentLast){var t=e.computeStudentKey(a);g[t]&&E.push(Object.assign({},a))}}),E.sort(this.sortStudents),B.sort(this.sortStudents),s.sort(this.sortStudents),c.forEach(function(a){return a.data.sort(e.sortStudents)}),m.forEach(function(a){return a.data.sort(e.sortStudents)}),this.setState({masterArray:a}),this.setState({dataMapSessionA:c}),this.setState({dataMapSessionB:m}),this.setState({dupeCount:p}),this.setState({dupes:E}),this.setState({invalidCount:b}),this.setState({invalidRows:B}),this.setState({removedDuplicates:s}),this.setState({loadMasterCsv:!0})}},{key:"sortStudents",value:function(e,a){return e.studentLast.toLowerCase().trim()<a.studentLast.toLowerCase().trim()?-1:e.studentLast.toLowerCase().trim()>a.studentLast.toLowerCase().trim()?1:e.studentFirst.toLowerCase().trim()<a.studentFirst.toLowerCase().trim()?-1:e.studentFirst.toLowerCase().trim()>a.studentFirst.toLowerCase().trim()?1:parseInt(e.id,10)<parseInt(a.id,10)?-1:parseInt(e.id,10)>parseInt(a.id,10)?1:void 0}},{key:"showError",value:function(e){alert(e)}},{key:"render",value:function(){var e=this,a=[{Header:"Student First Name",accessor:"studentFirst"},{Header:"Student Last Name",accessor:"studentLast"},{Header:"Grade",accessor:"grade"},{Header:"Teacher",accessor:"teacher"},{Header:"Parent First Name",accessor:"parentFirst"},{Header:"Parent Last Name",accessor:"parentLast"},{Header:"Parent Email",accessor:"parentEmail"},{Header:"Parent Phone",accessor:"parentPhone"},{Header:"Alternate First Name",accessor:"alternateFirst"},{Header:"Alternate Last Name",accessor:"alternateLast"},{Header:"Alternate Email",accessor:"alternateEmail"},{Header:"Alternate Phone",accessor:"alternatePhone"},{Header:"Session A",accessor:"sessionAMerged"},{Header:"Session B",accessor:"sessionBMerged"},{Header:"A Classroom",accessor:"sessionAClassroom"},{Header:"B Classroom",accessor:"sessionBClassroom"},{Header:"After Programming",accessor:"afterProgramming"}];a.forEach(function(e){return e.key=e.accessor});var t=[];return A.forEach(function(a){var s=e.state.dataMapSessionA.find(function(e){return e.class===a.class}),n=e.state.dataMapSessionB.find(function(e){return e.class===a.class});s&&n&&t.push({clazz:a.class,data:s.data.concat(n.data)})}),console.log(t),n.a.createElement("div",{className:"App"},n.a.createElement(g.a,{cssClass:"csv-reader-input",label:"Upload Master CSV",onFileLoaded:this.loadMasterCsv,onError:this.showError,parserOptions:{skipEmptyLines:!0}}),n.a.createElement(g.a,{cssClass:"csv-reader-input",label:"Upload Duplicate Override CSV",onFileLoaded:this.loadDuplicateCsv,onError:this.showError,parserOptions:{skipEmptyLines:!0}}),this.state.loadMasterCsv&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:this.showMaster},"Show All"),n.a.createElement("h1",null,this.state.dupeCount," Duplicates"),n.a.createElement(E.CSVLink,{data:this.state.dupes,filename:"duplicates"},"Download Duplicates"),n.a.createElement("br",null),n.a.createElement("h1",null,"Merged Master"),n.a.createElement(E.CSVLink,{data:this.state.masterArray,filename:"merged-master"},"Download Merged Master"),n.a.createElement("br",null),n.a.createElement("h1",null,"Classes"),t.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.CSVLink,{data:e.data,headers:a,filename:e.clazz},"Download ",e.clazz),n.a.createElement("br",null))}),n.a.createElement("h1",null,"Session A"),this.state.dataMapSessionA.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.CSVLink,{data:e.data,headers:a,filename:e.name},"Download ",e.name)," (",e.data.length," entries)",n.a.createElement("br",null))}),n.a.createElement("h1",null,"Session B"),this.state.dataMapSessionB.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.CSVLink,{data:e.data,headers:a,filename:e.name},"Download ",e.name)," (",e.data.length," entries)",n.a.createElement("br",null))}),n.a.createElement("br",null),this.state.showMaster&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"All"),n.a.createElement(p.a,{filterable:!0,defaultPageSize:300,data:this.state.masterArray,columns:this.state.columns})),this.state.invalidCount>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,this.state.invalidCount," Invalid"),n.a.createElement(p.a,{defaultPageSize:50,data:this.state.invalidRows,columns:this.state.columns})),this.state.dupeCount>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,this.state.dupeCount," Duplicates"),n.a.createElement(p.a,{defaultPageSize:50,data:this.state.dupes,columns:this.state.columns})),this.state.removedDuplicates.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,this.state.removedDuplicates.length," Removed Duplicates"),n.a.createElement(p.a,{defaultPageSize:50,data:this.state.removedDuplicates,columns:this.state.columns})),n.a.createElement("h1",null,"Merged Master"),n.a.createElement(p.a,{filterable:!0,defaultPageSize:this.state.masterArray.length,data:this.state.masterArray,columns:a}),n.a.createElement("h1",null,"Session A"),this.state.dataMapSessionA.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,e.name," (",e.data.length," entries)"),n.a.createElement(p.a,{defaultPageSize:e.data.length,data:e.data,columns:a}))}),n.a.createElement("h1",null,"Session B"),this.state.dataMapSessionB.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,e.name," (",e.data.length," entries)"),n.a.createElement(p.a,{defaultPageSize:e.data.length,data:e.data,columns:a}))})))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.97651165.chunk.js.map