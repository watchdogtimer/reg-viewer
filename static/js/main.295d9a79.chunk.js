(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){e.exports=t(33)},22:function(e,a,t){},24:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),r=t(10),o=t.n(r),i=(t(22),t(11)),l=t(12),c=t(14),d=t(13),m=t(15),u=t(3),h=(t(24),t(6)),p=t.n(h),f=t(5),g=(t(28),t(4)),E=["id","studentFirst","studentLast","grade","teacher","parentFirst","parentLast","parentEmail","parentPhone","alternateFirst","alternateLast","alternateEmail","alternatePhone","spanish","characterBuilders","primetime","none","ignore1","ignore2","sessionA","sessionB"],S=[{name:"Art (K-2nd) A",class:"Art",room:"Room 7"},{name:"Capoeira (3rd-5th) A",class:"Capoeira",room:"Auditorium"},{name:"Chess (2nd-5th) A",class:"Chess",room:"Room 14"},{name:"Circus Arts (TK-5th) A",class:"Circus Arts",room:"Kindergarten Playground"},{name:"Coding (2nd-5th) A",class:"Coding",room:"Room 15"},{name:"Flamenco (TK-5th) A",class:"Flamenco",room:"B-21"},{name:"Gardening (K-5th) A",class:"Gardening",room:"Garden"},{name:"LEGO\xae Early Engineering 1 (TK-2nd) A",class:"LEGO\xae Early Engineering 1",room:"Room 8"},{name:"Science Detectives (TK-5th)",class:"Science Detectives",room:"Room 2"},{name:"Soccer (3rd-5th) A",class:"Soccer",room:"Grass"},{name:"Yoga (TK-5th) A",class:"Yoga",room:"Kindergarten Tables"}],A=[{name:"Art (3rd-5th) B",class:"Art",room:"Room 7"},{name:"Capoeira (K-2nd) B",class:"Capoeira",room:"Auditorium"},{name:"Chess (TK-5th) B",class:"Chess",room:"B-25"},{name:"Circus Arts (TK-5th) B",class:"Circus Arts",room:"Kindergarten Playground"},{name:"Coding (2nd-5th) B",class:"Coding",room:"Room 15"},{name:"Flamenco (TK-5th) B",class:"Flamenco",room:"B-21"},{name:"Gardening (K-5th) B",class:"Gardening",room:"Garden"},{name:"LEGO\xae Elem. Engineering 2 (2nd-5th) B",class:"LEGO\xae Elem. Engineering 2",room:"Room 8"},{name:"Science Detectives (TK-5th) B",class:"Science Detectives",room:"Room 2"},{name:"Soccer (TK-2nd) B",class:"Soccer",room:"Grass"},{name:"Yoga (TK-5th) B",class:"Yoga",room:"Kindergarten Tables"}],C=[],v=[],B=function(e){function a(){var e;return Object(i.a)(this,a),(e=Object(c.a)(this,Object(d.a)(a).call(this))).state={columns:[],loadTable:!1,masterArray:[],dupes:[],invalidRows:[],afterSchoolPrograms:[],afterSchoolProgramsColumns:[],dataMapSessionA:[],dataMapSessionB:[]},e.reloadTable=e.reloadTable.bind(Object(u.a)(Object(u.a)(e))),e.showMaster=e.showMaster.bind(Object(u.a)(Object(u.a)(e))),e.loadMasterCsv=e.loadMasterCsv.bind(Object(u.a)(Object(u.a)(e))),e.loadDuplicateCsv=e.loadDuplicateCsv.bind(Object(u.a)(Object(u.a)(e))),e}return Object(m.a)(a,e),Object(l.a)(a,[{key:"showMaster",value:function(){this.setState({showMaster:!0})}},{key:"hideAll",value:function(){this.setState({showMaster:!1})}},{key:"showClasses",value:function(){this.setState({showClasses:!0})}},{key:"hideClasses",value:function(){this.setState({showClasses:!1})}},{key:"loadMasterCsv",value:function(e){C=e,this.reloadTable()}},{key:"loadDuplicateCsv",value:function(e){v=e,this.reloadTable()}},{key:"computeStudentKey",value:function(e){return e.studentFirst.toLowerCase().trim()+" "+e.studentLast.toLowerCase().trim()}},{key:"convertToObject",value:function(e,a){for(var t={},s=0;s<a.length;s++)t[a[s].accessor]=e[s];t.sessionAMerged="None"!=t.sessionA&&""!=t.sessionA?t.sessionA:t.spanish?t.spanish:t.characterBuilders?t.characterBuilders:t.primetime?t.primetime:t.none?t.none:"None",t.sessionBMerged="None"!=t.sessionB&&""!=t.sessionB?t.sessionB:t.characterBuilders?t.characterBuilders:t.primetime?t.primetime:t.none?t.none:"None",t.afterProgramming=t.characterBuilders?t.characterBuilders:t.primetime?t.primetime:t.none?t.none:"None";var n=S.find(function(e){return e.name===t.sessionA}),r=A.find(function(e){return e.name===t.sessionB});return t.sessionAClassroom="None"!=t.sessionA&&""!=t.sessionA&&n?n.room:"N/A",t.sessionBClassroom="None"!=t.sessionB&&""!=t.sessionB&&r?r.room:"N/A",t.classA="None"!=t.sessionA&&""!=t.sessionA&&n?n.class:"N/A",t.classB="None"!=t.sessionB&&""!=t.sessionB&&r?r.class:"N/A",t}},{key:"reloadTable",value:function(){var e=this;this.setState({loadMasterCsv:!1});var a=[],t=[],s=[],r=C[0].map(function(e,a){return{Header:e,accessor:E[a]||e}});this.setState({columns:[{Header:"",id:"row",maxWidth:50,filterable:!1,Cell:function(e){return n.a.createElement("div",null,e.index+1)}}].concat(r)});for(var o=1;o<C.length;o++)a.push(this.convertToObject(C[o],r));if(v.length>0){for(var i=1;i<v.length;i++)t.push(this.convertToObject(v[i],r));var l={};t.forEach(function(a){var t=e.computeStudentKey(a);l[t]=a}),s=a.filter(function(a){return l[e.computeStudentKey(a)]}),a=(a=a.filter(function(a){return!l[e.computeStudentKey(a)]})).concat(t)}var c=S.map(function(e){return{name:e.name,class:e.class,data:[]}}),d=A.map(function(e){return{name:e.name,class:e.class,data:[]}}),m=[],u=[];a.forEach(function(e){var a=c.find(function(a){return a.name===e.sessionA});a&&a.data.push(e);var t=d.find(function(a){return a.name===e.sessionB});t&&t.data.push(e),m.includes(e.sessionA)||m.push(e.sessionA),u.includes(e.sessionB)||u.push(e.sessionB)});var h={},p={},f=0,g=[],B=[],b=0;a.forEach(function(a){if(a.studentFirst&&a.studentLast){var t=e.computeStudentKey(a);h[t]?(f++,p[t]=1):h[t]=1}else b++,B.push(Object.assign({},a));"None"!==a.sessionAMerged&&""!==a.sessionAMerged&&"N/A"!==a.sessionAMerged||"None"!==a.sessionBMerged&&""!==a.sessionBMerged&&"N/A"!==a.sessionBMerged||(b++,B.push(Object.assign({},a)))}),a.forEach(function(a){if(a.studentFirst&&a.studentLast){var t=e.computeStudentKey(a);p[t]&&g.push(Object.assign({},a))}}),g.sort(this.sortStudents),B.sort(this.sortStudents),s.sort(this.sortStudents),c.forEach(function(a){return a.data.sort(e.sortStudents)}),d.forEach(function(a){return a.data.sort(e.sortStudents)}),this.setState({masterArray:a}),this.setState({dataMapSessionA:c}),this.setState({dataMapSessionB:d}),this.setState({dupeCount:f}),this.setState({dupes:g}),this.setState({invalidCount:b}),this.setState({invalidRows:B}),this.setState({removedDuplicates:s}),this.setState({loadMasterCsv:!0})}},{key:"sortStudents",value:function(e,a){return e.studentLast.toLowerCase().trim()<a.studentLast.toLowerCase().trim()?-1:e.studentLast.toLowerCase().trim()>a.studentLast.toLowerCase().trim()?1:e.studentFirst.toLowerCase().trim()<a.studentFirst.toLowerCase().trim()?-1:e.studentFirst.toLowerCase().trim()>a.studentFirst.toLowerCase().trim()?1:parseInt(e.id,10)<parseInt(a.id,10)?-1:parseInt(e.id,10)>parseInt(a.id,10)?1:void 0}},{key:"showError",value:function(e){alert(e)}},{key:"render",value:function(){var e=this,a=[{Header:"Student First Name",accessor:"studentFirst"},{Header:"Student Last Name",accessor:"studentLast"},{Header:"Grade",accessor:"grade"},{Header:"Teacher",accessor:"teacher"},{Header:"Parent First Name",accessor:"parentFirst"},{Header:"Parent Last Name",accessor:"parentLast"},{Header:"Parent Email",accessor:"parentEmail"},{Header:"Parent Phone",accessor:"parentPhone"},{Header:"Alternate First Name",accessor:"alternateFirst"},{Header:"Alternate Last Name",accessor:"alternateLast"},{Header:"Alternate Email",accessor:"alternateEmail"},{Header:"Alternate Phone",accessor:"alternatePhone"},{Header:"Session A",accessor:"sessionAMerged"},{Header:"A Classroom",accessor:"sessionAClassroom"},{Header:"Session B",accessor:"sessionBMerged"},{Header:"B Classroom",accessor:"sessionBClassroom"},{Header:"After Programming",accessor:"afterProgramming"}],t=[{Header:"Student First Name",accessor:"studentFirst"},{Header:"Student Last Name",accessor:"studentLast"},{Header:"Grade",accessor:"grade"},{Header:"Teacher",accessor:"teacher"},{Header:"Session A",accessor:"sessionAMerged"},{Header:"A Classroom",accessor:"sessionAClassroom"},{Header:"Session B",accessor:"sessionBMerged"},{Header:"B Classroom",accessor:"sessionBClassroom"},{Header:"After Programming",accessor:"afterProgramming"}],s=a.concat([{Header:"Volunteer Info",accessor:"ignore1"},{Header:"Volunteer Info 2",accessor:"ignore2"}]);a.forEach(function(e){e.key=e.accessor,e.label=e.Header}),t.forEach(function(e){e.key=e.accessor,e.label=e.Header}),s.forEach(function(e){e.key=e.accessor,e.label=e.Header});var r=[];S.forEach(function(a){var t=e.state.dataMapSessionA.find(function(e){return e.class===a.class}),s=e.state.dataMapSessionB.find(function(e){return e.class===a.class});t&&s&&r.push({clazz:a.class,data:t.data.concat(s.data)})});var o=this.state.masterArray.filter(function(e){return e.characterBuilders});o.sort(this.sortStudents);var i=this.state.masterArray.filter(function(e){return e.primetime});i.sort(this.sortStudents);var l=this.state.masterArray.filter(function(e){return e.spanish});return l.sort(this.sortStudents),n.a.createElement("div",{className:"App"},n.a.createElement(p.a,{cssClass:"csv-reader-input",label:"Upload Master CSV",onFileLoaded:this.loadMasterCsv,onError:this.showError,parserOptions:{skipEmptyLines:!0}}),n.a.createElement(p.a,{cssClass:"csv-reader-input",label:"Upload Duplicate Override CSV",onFileLoaded:this.loadDuplicateCsv,onError:this.showError,parserOptions:{skipEmptyLines:!0}}),this.state.loadMasterCsv&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:this.showMaster},"Show All"),n.a.createElement("h1",null,this.state.dupeCount," Duplicates"),n.a.createElement(g.CSVLink,{data:this.state.dupes,filename:"duplicates"},"Download Duplicates"),n.a.createElement("br",null),n.a.createElement("h1",null,"Merged Master"),n.a.createElement(g.CSVLink,{data:this.state.masterArray,headers:a,filename:"merged-master"},"Download Merged Master"),n.a.createElement("br",null),n.a.createElement("h1",null,"Pauline"),n.a.createElement(g.CSVLink,{data:this.state.masterArray,headers:s,filename:"pauline-master"},"Download Pauline's Master"),n.a.createElement("br",null),n.a.createElement("h1",null,"Character Builders"),n.a.createElement(g.CSVLink,{data:o,headers:t,filename:"character-builders"},"Download Character Builders"),n.a.createElement("br",null),n.a.createElement("h1",null,"Primetime"),n.a.createElement(g.CSVLink,{data:i,headers:t,filename:"primetime"},"Download Primetime"),n.a.createElement("br",null),n.a.createElement("h1",null,"Spanish"),n.a.createElement(g.CSVLink,{data:l,headers:t,filename:"primetime"},"Download Spanish"),n.a.createElement("br",null),n.a.createElement("h1",null,"Classes"),r.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.CSVLink,{data:e.data,headers:a,filename:e.clazz},"Download ",e.clazz),n.a.createElement("br",null))}),n.a.createElement("h1",null,"Session A"),this.state.dataMapSessionA.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.CSVLink,{data:e.data,headers:a,filename:e.name},"Download ",e.name)," (",e.data.length," entries)",n.a.createElement("br",null))}),n.a.createElement("h1",null,"Session B"),this.state.dataMapSessionB.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.CSVLink,{data:e.data,headers:a,filename:e.name},"Download ",e.name)," (",e.data.length," entries)",n.a.createElement("br",null))}),n.a.createElement("br",null),this.state.showMaster&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"All"),n.a.createElement(f.a,{filterable:!0,defaultPageSize:300,data:this.state.masterArray,columns:this.state.columns})),this.state.invalidCount>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,this.state.invalidCount," Invalid"),n.a.createElement(f.a,{defaultPageSize:50,data:this.state.invalidRows,columns:this.state.columns})),this.state.dupeCount>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,this.state.dupeCount," Duplicates"),n.a.createElement(f.a,{defaultPageSize:50,data:this.state.dupes,columns:this.state.columns})),this.state.removedDuplicates.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,this.state.removedDuplicates.length," Removed Duplicates"),n.a.createElement(f.a,{defaultPageSize:50,data:this.state.removedDuplicates,columns:this.state.columns})),n.a.createElement("h1",null,"Merged Master"),n.a.createElement(f.a,{filterable:!0,defaultPageSize:this.state.masterArray.length,data:this.state.masterArray,columns:a}),n.a.createElement("h1",null,"Session A"),this.state.dataMapSessionA.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,e.name," (",e.data.length," entries)"),n.a.createElement(f.a,{defaultPageSize:e.data.length,data:e.data,columns:a}))}),n.a.createElement("h1",null,"Session B"),this.state.dataMapSessionB.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,e.name," (",e.data.length," entries)"),n.a.createElement(f.a,{defaultPageSize:e.data.length,data:e.data,columns:a}))})))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.295d9a79.chunk.js.map